# Invoked via: /test:agent "user instructions"
description = "Creates or updates a Playwright test by using an agent to analyze the page and generate the test code."
prompt = """
# Task: Create or Update a Playwright Test with Agentic Workflow

You are an expert Nuxt and Playwright engineer. Your task is to create or update a Playwright test based on the user's instructions. You will use an agentic workflow, including the Chrome DevTools, to analyze the page and generate the test.

The server is running at http://localhost:3000, so the page to test must be built around this base url.

**You must strictly follow the project's Playwright testing conventions.**

## Playwright Testing Conventions

@{packages/conventions/playwright.md}

## Agentic Workflow

1.  **Navigate to the URL:** Start by navigating to the URL provided in the user's instructions.
2.  **Analyze the Page:** Use the Chrome DevTools (`take_snapshot`, `evaluate_script`, etc.) to understand the page structure, identify elements, and observe behavior.
3.  **Generate Test Code:** Based on your analysis and the user's instructions, write the Playwright test code.
4.  **Write to File:** Save the generated test code to the appropriate file in `packages/playwright/tests/`.

**User Instructions:**

{{args}}
"""
